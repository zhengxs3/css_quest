<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Levels</title>
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:#0f172a;
      color:#e5e7eb;
    }

    body {
      margin:0;
      padding:20px 24px 40px;
    }

    h1 {
      text-align:center;
      margin-bottom:24px;
      color:#f9fafb;
    }

    .intro {
      max-width:900px;
      margin:0 auto 24px;
      font-size:14px;
      color:#9ca3af;
      line-height:1.6;
    }

    .category {
      max-width:1100px;
      margin:0 auto 32px;
      border-radius:16px;
      background:rgba(15,23,42,0.9);
      border:1px solid rgba(148,163,184,0.3);
      box-shadow:0 18px 45px rgba(15,23,42,0.8);
      overflow:hidden;
    }

    .category-header {
      padding:16px 20px;
      background:linear-gradient(135deg,#1CCAE8,#9D4EDD);
      display:flex;
      align-items:center;
      justify-content:space-between;
      color:#0b1120;
    }

    .category-title {
      font-size:20px;
      font-weight:700;
      letter-spacing:0.04em;
      text-transform:uppercase;
    }

    .category-badge {
      font-size:12px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(15,23,42,0.85);
      color:#e5e7eb;
    }

    .difficulty-wrapper {
      display:flex;
      flex-wrap:wrap;
      gap:20px;
      padding:18px 18px 20px;
      background:radial-gradient(circle at top left,rgba(148,163,184,0.16),transparent 65%);
    }

    .difficulty-column {
      flex:1 1 260px;
      min-width:260px;
      background:rgba(15,23,42,0.9);
      border-radius:12px;
      border:1px solid rgba(55,65,81,0.8);
      padding:12px 12px 14px;
      backdrop-filter:blur(12px);
    }

    .difficulty-title {
      font-size:14px;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:0.08em;
      margin-bottom:8px;
      color:#9CA3AF;
    }

    .difficulty-title span {
      font-size:11px;
      padding:3px 7px;
      border-radius:999px;
      margin-left:6px;
      background:rgba(31,41,55,0.9);
      color:#d1d5db;
      vertical-align:middle;
    }

    .difficulty-title.easy span {
      border:1px solid #22c55e;
    }
    .difficulty-title.medium span {
      border:1px solid #eab308;
    }
    .difficulty-title.hard span {
      border:1px solid #f97316;
    }

    .level-list {
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height:430px;
      overflow:auto;
      padding-right:4px;
    }

    .level-card {
      border-radius:10px;
      border:1px solid rgba(55,65,81,0.9);
      background:rgba(15,23,42,0.95);
      padding:10px 10px 11px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    .level-top-row {
      display:flex;
      gap:10px;
      align-items:flex-start;
      flex-wrap:wrap;
    }

    .level-info {
      min-width:160px;
    }

    .level-desc {
      font-size:13px;
      font-weight:600;
      color:#e5e7eb;
    }

    .chips {
      display:flex;
      gap:6px;
      align-items:center;
      flex-wrap:wrap;
      margin-top:2px;
    }

    .chip {
      font-size:10px;
      padding:2px 6px;
      border-radius:999px;
      text-transform:uppercase;
      letter-spacing:0.08em;
    }

    .chip.type-css {
      border:1px solid #1CCAE8;
      color:#1CCAE8;
      background:rgba(15,23,42,0.8);
    }

    .chip.type-html {
      border:1px solid #F97316;
      color:#F97316;
      background:rgba(15,23,42,0.8);
    }

    .chip.type-htmlcss {
      border:1px solid #22c55e;
      color:#22c55e;
      background:rgba(15,23,42,0.8);
    }

    .level-preview {
      flex:0 0 160px;
      min-width:260px;
      min-height:135px;
      max-width:220px;
      background:#020617;
      border-radius:8px;
      border:1px solid rgba(31,41,55,0.9);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:8px;
      overflow:hidden;
    }

    .shape-box {
      display:block;
    }

    .level-hint {
      font-size:11px;
      color:#9ca3af;
      padding:4px 7px;
      border-radius:7px;
      background:rgba(15,23,42,0.95);
      border:1px dashed rgba(75,85,99,0.9);
    }

    .level-code {
      font-size:11px;
      color:#e5e7eb;
      background:#020617;
      border-radius:7px;
      border:1px solid rgba(31,41,55,0.9);
      padding:6px 7px;
      overflow:auto;
    }

    .level-code strong {
      display:block;
      margin-bottom:2px;
      color:#a5b4fc;
    }

    pre {
      margin:0;
      white-space:pre-wrap;
      word-break:break-word;
      font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    }

    @media (max-width:768px) {
      body {
        padding:14px 12px 30px;
      }
      .category {
        margin:0 auto 20px;
      }
      .difficulty-wrapper {
        padding:12px;
      }
      .level-top-row {
        flex-direction:column;
      }
      .level-preview {
        max-width:none;
      }

      .html-box,
      .input-card,
      .preview-box,
      .code-box {
        width: 100% !important;
        min-width: unset;
      }

      .html-box {
        padding: 15px;
      }

      .code-box,
      .preview-box {
        font-size: 14px; /* 字体稍微小一点，阅读舒服 */
      }

      .example,
      .code-title {
        font-size: 15px;
      }

    }
  </style>
</head>
<body>

  <div id="levels-root"></div>

  <script>
    // 原始数据
    const levels = {
      css: {
        easy: [
          { desc: 'Carré bleu, 100x100px', css: 'width:100px; height:100px; background:#1CCAE8;', hint: 'Définissez la largeur, la hauteur et la couleur de fond' },
          { desc: 'Cercle parfait, vert lime', css: 'width:120px; height:120px; background:#91E413; border-radius:50%;', hint: 'Utilisez border-radius: 50% pour les cercles' },
          { desc: 'Rectangle rouge, large', css: 'width:200px; height:80px; background:#FF006E;', hint: 'La largeur doit être supérieure à la hauteur' },
          { desc: 'Coins arrondis, turquoise', css: 'width:150px; height:100px; background:#56D9BA; border-radius:20px;', hint: 'border-radius ajoute des coins arrondis' },
          { desc: 'Carré jaune avec bordure', css: 'width:100px; height:100px; background:#FFBE0B; border:4px solid rgb(235, 235, 235);', hint: 'Ajoutez une propriété border' },
          { desc: 'Forme ovale violette', css: 'width:180px; height:100px; background:#9D4EDD; border-radius:50%;', hint: 'Ovale = largeur/hauteur différentes avec border-radius à 50%' },
          { desc: 'Petit point cyan', css: 'width:40px; height:40px; background:#06FFA5; border-radius:50%;', hint: 'Petit cercle avec couleur vive' },
          { desc: 'Forme de pilule orange', css: 'width:150px; height:60px; background:#FF6B35; border-radius:30px;', hint: 'Pilule = hauteur/2 pour border-radius' }
        ],
        medium: [
          { desc: 'Dégradé bleu à violet', css: 'width:150px; height:150px; background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);', hint: 'Utilisez linear-gradient()' },
          { desc: 'Boîte avec effet d\'ombre', css: 'width:120px; height:120px; background:#1CCAE8; box-shadow:0 10px 30px rgba(0,0,0,0.5);', hint: 'box-shadow: x y flou couleur' },
          { desc: 'Carré tourné', css: 'width:100px; height:100px; background:#91E413; transform:rotate(45deg);', hint: 'Utilisez transform: rotate()' },
          { desc: 'Cercle agrandi', css: 'width:80px; height:80px; background:#FF006E; border-radius:50%; transform:scale(1.5);', hint: 'transform: scale() augmente la taille' },
          { desc: 'Boîte à moitié transparente', css: 'width:130px; height:130px; background:#56D9BA; opacity:0.5;', hint: 'opacity va de 0 à 1' },
          { desc: 'Bordures multiples', css: 'width:100px; height:100px; background:#FFBE0B; border:5px solid #FF006E; outline:3px solid #1CCAE8; outline-offset:3px;', hint: 'Utilisez border et outline' },
          { desc: 'Rectangle incliné', css: 'width:140px; height:90px; background:#9D4EDD; transform:skewX(-10deg);', hint: 'transform: skewX() incline horizontalement' },
          { desc: 'Boîte lumineuse', css: 'width:120px; height:120px; background:#06FFA5; box-shadow:0 0 20px #06FFA5, 0 0 40px #06FFA5;', hint: 'Plusieurs box-shadows créent un effet de lueur' }
        ],
        hard: [
          { desc: 'Motif de dégradé complexe', css: 'width:150px; height:150px; background:linear-gradient(45deg, #667eea 0%, #764ba2 50%, #f093fb 100%);', hint: 'Utilisez plusieurs arrêts de couleur dans le dégradé' },
          { desc: 'Animation de pulsation (utilisez animation)', css: 'width:100px; height:100px; background:#FF006E; border-radius:50%; animation:pulse 2s infinite; @keyframes pulse { 0%, 100% { transform:scale(1); } 50% { transform:scale(1.1); } }', hint: 'Définissez @keyframes et utilisez la propriété animation' },
          { desc: 'Face de cube en 3D', css: 'width:120px; height:120px; background:#1CCAE8; transform:perspective(500px) rotateY(25deg) rotateX(25deg);', hint: 'Utilisez perspective() avec plusieurs rotations' },
          { desc: 'Style néomorphisme', css: 'width:140px; height:140px; background:#e0e5ec; border-radius:20px; box-shadow:9px 9px 16px #a3b1c6, -9px -9px 16px #ffffff;', hint: 'Ombres douces dans des directions opposées' },
          { desc: 'Hexagone avec clip-path', css: 'width:150px; height:150px; background:#91E413; clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);', hint: 'Utilisez clip-path: polygon()' },
          { desc: 'Effet de lueur sur texte', css: 'width:180px; height:100px; background:#161330; color:#06FFA5; display:flex; align-items:center; justify-content:center; font-size:24px; text-shadow:0 0 10px #06FFA5; &::before { content:"LUEUR"; }', hint: 'Utilisez text-shadow et le pseudo-élément ::before' }
        ]
      },
      html: {
        easy: [
          { desc: 'Bouton simple', html: '<button>Cliquez-moi</button>', hint: 'Utilisez la balise <button>' },
          { desc: 'Titre', html: '<h2>Bienvenue</h2>', hint: 'Utilisez les balises de titre comme <h1>, <h2>' },
          { desc: 'Paragraphe', html: '<p>Ceci est un paragraphe de texte.</p>', hint: 'Utilisez la balise <p>' },
          { desc: 'Lien', html: '<a href="#">Lien</a>', hint: 'Utilisez la balise <a> avec href' },
          { desc: 'Image', html: '<img src="https://via.placeholder.com/80" alt="Image">', hint: 'Utilisez la balise <img> avec src' },
          { desc: 'Liste non ordonnée', html: '<ul><li>Élément 1</li><li>Élément 2</li></ul>', hint: 'Utilisez les balises <ul> et <li>' },
          { desc: 'Champ de saisie', html: '<input type="text" placeholder="Tapez ici">', hint: 'Utilisez la balise <input>' },
          { desc: 'Case à cocher', html: '<input type="checkbox"> <label>Accepter</label>', hint: 'Utilisez input type="checkbox"' }
        ],
        medium: [
          { desc: 'Formulaire avec étiquette', html: '<form><label>Nom:</label><input type="text"></form>', hint: 'Encadrez avec <form>, utilisez <label>' },
          { desc: 'Conteneur div avec span', html: '<div>Texte avec <span style="color:#91E413;">coloré</span> mot</div>', hint: 'Utilisez <div> et <span>' },
          { desc: 'Listes imbriquées', html: '<ul><li>Parent<ul><li>Enfant</li></ul></li></ul>', hint: 'Imbriquez <ul> dans <li>' },
          { desc: 'Structure de tableau', html: '<table><tr><td>Cellule 1</td><td>Cellule 2</td></tr></table>', hint: 'Utilisez <table>, <tr>, <td>' },
          { desc: 'Menu déroulant', html: '<select><option>Option 1</option><option>Option 2</option></select>', hint: 'Utilisez <select> et <option>' },
          { desc: 'Élément textarea', html: '<textarea rows="3">Tapez ici...</textarea>', hint: 'Utilisez <textarea> avec rows' },
          { desc: 'Article avec en-tête', html: '<article><header><h3>Titre</h3></header><p>Contenu</p></article>', hint: 'Utilisez les balises sémantiques' }
        ],
        hard: [
          { desc: 'Formulaire complexe', html: '<form><fieldset><legend>Info</legend><label>Email:</label><input type="email" required><button type="submit">Soumettre</button></fieldset></form>', hint: 'Utilisez fieldset, legend et l\'attribut required' },
          { desc: 'Navigation avec liens', html: '<nav><ul><li><a href="#home">Accueil</a></li><li><a href="#about">À propos</a></li></ul></nav>', hint: 'Utilisez <nav> avec une liste de liens' },
          { desc: 'Attributs de données', html: '<div data-user="123" data-role="admin">Carte utilisateur</div>', hint: 'Ajoutez des attributs data-*' },
          { desc: 'SVG intégré', html: '<svg width="80" height="80"><circle cx="40" cy="40" r="35" fill="#1CCAE8"/></svg>', hint: 'Créez un SVG intégré avec des formes' },
          { desc: 'Details/Summary', html: '<details><summary>Cliquez pour développer</summary><p>Contenu caché révélé !</p></details>', hint: 'Utilisez <details> et <summary>' }
        ]
      },
      htmlcss: {
        easy: [
          { desc: 'Bouton stylisé', html: '<button class="btn-1">Cliquer</button>', css: '.btn-1 { background:#56D9BA; color:#161330; padding:12px 24px; border:none; border-radius:8px; font-weight:bold; cursor:pointer; }', hint: 'Stylez le bouton avec des couleurs et du padding' },
          { desc: 'Texte centré', html: '<div class="center-text">Centré</div>', css: '.center-text { text-align:center; font-size:20px; color:#91E413; }', hint: 'Utilisez text-align: center' },
          { desc: 'Mise en page de carte', html: '<div class="card">Contenu de la carte</div>', css: '.card { background:#1a1a2e; padding:20px; border-radius:10px; color:white; }', hint: 'Créez une carte avec padding et border-radius' },
          { desc: 'Effet au survol', html: '<button class="btn-hover">Survolez-moi</button>', css: '.btn-hover { background:#1CCAE8; color:white; padding:10px 20px; border:none; border-radius:5px; transition:0.3s; } .btn-hover:hover { background:#91E413; transform:scale(1.05); }', hint: 'Ajoutez un état :hover avec transition' }
        ],
        medium: [
          { desc: 'Centrage avec Flexbox', html: '<div class="container"><span class="flex-text">Centré</span></div>', css: '.container { display:flex; align-items:center; justify-content:center; width:200px; height:150px; background:#161330; } .flex-text { color:#91E413; font-size:18px; }', hint: 'Utilisez les propriétés flexbox' },
          { desc: 'Mise en page Grid', html: '<div class="grid"><div>1</div><div>2</div><div>3</div><div>4</div></div>', css: '.grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; width:200px; } .grid div { background:#56D9BA; padding:20px; text-align:center; border-radius:5px; }', hint: 'Utilisez CSS Grid' },
          { desc: 'Composant badge', html: '<span class="badge">Nouveau</span>', css: '.badge { background:#FF006E; color:white; padding:4px 10px; border-radius:12px; font-size:12px; font-weight:bold; display:inline-block; }', hint: 'Créez un petit élément badge' },
          { desc: 'Bouton avec icône', html: '<button class="btn-icon">⭐ Étoile</button>', css: '.btn-icon { background:linear-gradient(135deg, #667eea, #764ba2); color:white; border:none; padding:12px 20px; border-radius:8px; font-size:16px; cursor:pointer; box-shadow:0 4px 15px rgba(0,0,0,0.2); }', hint: 'Utilisez un dégradé en arrière-plan' }
        ],
        hard: [
          { desc: 'Carte glassmorphism', html: '<div class="glass">Effet Verre</div>', css: '.glass { background:rgba(255,255,255,0.1); backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.2); border-radius:15px; padding:30px; color:white; box-shadow:0 8px 32px rgba(0,0,0,0.3); }', hint: 'Utilisez backdrop-filter et la transparence' },
          { desc: 'Loader animé', html: '<div class="loader"></div>', css: '.loader { width:50px; height:50px; border:5px solid #333; border-top-color:#1CCAE8; border-radius:50%; animation:spin 1s linear infinite; } @keyframes spin { to { transform:rotate(360deg); } }', hint: 'Créez une animation de rotation' },
          { desc: 'Infobulle au survol', html: '<button class="tooltip-btn" data-tooltip="Ceci est une infobulle">Survol</button>', css: '.tooltip-btn { position:relative; background:#91E413; color:#161330; padding:10px 20px; border:none; border-radius:5px; cursor:pointer; } .tooltip-btn::after { content:attr(data-tooltip); position:absolute; bottom:120%; left:50%; transform:translateX(-50%); background:#161330; color:white; padding:8px 12px; border-radius:5px; font-size:12px; white-space:nowrap; opacity:0; pointer-events:none; transition:0.3s; } .tooltip-btn:hover::after { opacity:1; }', hint: 'Utilisez le pseudo-élément ::after avec attr()' },
          { desc: 'Mise en page de carte complexe', html: '<div class="card-advanced"><div class="header">Titre</div><div class="body">Texte de contenu ici</div><div class="footer"><button class="footer-btn">Action</button></div></div>', css: '.card-advanced { background:#1a1a2e; border-radius:12px; overflow:hidden; width:250px; box-shadow:0 10px 30px rgba(0,0,0,0.5); } .card-advanced .header { background:linear-gradient(135deg, #1CCAE8, #56D9BA); padding:20px; color:white; font-weight:bold; } .card-advanced .body { padding:20px; color:#ccc; } .card-advanced .footer { padding:15px; background:#161330; } .card-advanced .footer-btn { background:#91E413; color:#161330; border:none; padding:8px 16px; border-radius:6px; cursor:pointer; width:100%; font-weight:bold; }', hint: 'Combinez plusieurs techniques de style' }
        ]
      }
    };

    const root = document.getElementById('levels-root');

    // 把 htmlcss 的所有 css 合并注入到页面 <style> 里，方便预览
    function injectHtmlCssStyles() {
      const styles = [];
      const htmlcss = levels.htmlcss;
      ['easy', 'medium', 'hard'].forEach(levelKey => {
        if (!htmlcss[levelKey]) return;
        htmlcss[levelKey].forEach(item => {
          if (item.css) styles.push(item.css);
        });
      });
      const styleTag = document.createElement('style');
      styleTag.textContent = styles.join('\n\n');
      document.head.appendChild(styleTag);
    }

    // 简单清理 CSS，用于 inline style（去掉 @keyframes 和 &::before 这种 SCSS 写法）
    function cssToInline(cssText) {
      if (!cssText) return '';
      let cleaned = cssText.split('@keyframes')[0];  // 去掉动画定义
      cleaned = cleaned.split('&::')[0];             // 去掉 SCSS 伪元素部分
      return cleaned.trim();
    }

    function createLevelCard(item, typeKey) {
      const card = document.createElement('div');
      card.className = 'level-card';

      const topRow = document.createElement('div');
      topRow.className = 'level-top-row';

      const info = document.createElement('div');
      info.className = 'level-info';

      const desc = document.createElement('div');
      desc.className = 'level-desc';
      desc.textContent = item.desc;
      info.appendChild(desc);

      const chipsWrap = document.createElement('div');
      chipsWrap.className = 'chips';
      const chip = document.createElement('span');
      chip.className = 'chip type-' + typeKey;
      chip.textContent = typeKey.toUpperCase();
      chipsWrap.appendChild(chip);
      info.appendChild(chipsWrap);

      const preview = document.createElement('div');
      preview.className = 'level-preview';

      // 根据类型渲染预览
      if (typeKey === 'css') {
        const shape = document.createElement('div');
        shape.className = 'shape-box';
        shape.setAttribute('style', cssToInline(item.css));
        preview.appendChild(shape);
      } else if (typeKey === 'html') {
        preview.innerHTML = item.html;
      } else if (typeKey === 'htmlcss') {
        preview.innerHTML = item.html;
      }

      topRow.appendChild(info);
      topRow.appendChild(preview);
      card.appendChild(topRow);

      if (item.hint) {
        const hint = document.createElement('div');
        hint.className = 'level-hint';
        hint.textContent = 'Hint: ' + item.hint;
        card.appendChild(hint);
      }

      const code = document.createElement('div');
      code.className = 'level-code';
      const strong = document.createElement('strong');

      let codeText = '';
      if (item.css && item.html) {
        strong.textContent = 'HTML + CSS';
        codeText = 'HTML:\n' + item.html + '\n\nCSS:\n' + item.css;
      } else if (item.css) {
        strong.textContent = 'CSS';
        codeText = item.css;
      } else if (item.html) {
        strong.textContent = 'HTML';
        codeText = item.html;
      }

      const pre = document.createElement('pre');
      pre.textContent = codeText;

      code.appendChild(strong);
      code.appendChild(pre);
      card.appendChild(code);

      return card;
    }

    function render() {
      root.innerHTML = '';

      const typeLabels = {
        css: 'CSS',
        html: 'HTML',
        htmlcss: 'HTML + CSS'
      };

      const difficultyLabels = {
        easy: 'Easy',
        medium: 'Medium',
        hard: 'Hard'
      };

      Object.keys(levels).forEach(typeKey => {
        const categoryData = levels[typeKey];

        const category = document.createElement('section');
        category.className = 'category';

        const header = document.createElement('div');
        header.className = 'category-header';

        const title = document.createElement('div');
        title.className = 'category-title';
        title.textContent = typeLabels[typeKey] || typeKey.toUpperCase();

        const badge = document.createElement('div');
        badge.className = 'category-badge';
        badge.textContent = 'Type: ' + typeKey;

        header.appendChild(title);
        header.appendChild(badge);

        const wrapper = document.createElement('div');
        wrapper.className = 'difficulty-wrapper';

        ['easy', 'medium', 'hard'].forEach(levelKey => {
          if (!categoryData[levelKey]) return;

          const column = document.createElement('div');
          column.className = 'difficulty-column';

          const dt = document.createElement('div');
          dt.className = 'difficulty-title ' + levelKey;
          dt.innerHTML = difficultyLabels[levelKey] + '<span>' + (categoryData[levelKey].length || 0) + ' levels</span>';

          const list = document.createElement('div');
          list.className = 'level-list';

          categoryData[levelKey].forEach(item => {
            list.appendChild(createLevelCard(item, typeKey));
          });

          column.appendChild(dt);
          column.appendChild(list);
          wrapper.appendChild(column);
        });

        category.appendChild(header);
        category.appendChild(wrapper);
        root.appendChild(category);
      });
    }

    injectHtmlCssStyles();
    render();
  </script>
</body>
</html>
